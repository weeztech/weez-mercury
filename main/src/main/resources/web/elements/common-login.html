<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../common/common-remote.html">

<polymer-element name="common-login">
  <template>
    <style>
      :host {
        display: block;
      }
      paper-input,
      paper-button {
        display: block;
        margin: 5px 15px;
      }
      .login-form {
        width: 300px;
      }
      .form-title {
        display: block;
        font-size: 1.2em;
        border-bottom: 1px solid #777;
      }
    </style>
    <div class="banner">

    </div>
    <div class="login-form">
      <span class="form-title">登录</span>
      <paper-input label="工号" floatingLabel value="{{username}}"></paper-input>
      <paper-input label="密码" floatingLabel type="password" value="{{password}}"></paper-input>
      <paper-button on-tap="{{loginAction}}">登录</paper-button>
    </div>
  </template>
  <script>
    Polymer({
      loginAction: function () {
        remoteCall('common.LoginService', {
          username: this.username,
          password: this.password
        }, function (resp) {
          switch (resp.result) {
          case 0: // success
            remoteCall.usid = resp.usid;
            break;
          default:
            alert('用户名或密码错误');
            break;
          }
        });
      }
    });
  </script>
</polymer-element>